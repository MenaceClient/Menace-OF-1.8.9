package dev.menace.module;

import java.util.ArrayList;

import dev.menace.Menace;
import dev.menace.module.settings.Setting;
import net.minecraft.client.Minecraft;

public class BaseModule {

	private String name;
	private String desc;
	private Category category;
	private int keybind;
	private boolean toggled;
	private ArrayList<Setting> settings = new ArrayList<>();
	
	protected final Minecraft MC = Minecraft.getMinecraft();
	
	public BaseModule(String name, Category category, int keybind) {
		this.name = name;
		this.desc = "";
		this.category = category;
		this.keybind = keybind;
		this.toggled = false;
	}
	
	public BaseModule(String name, String desc, Category category, int keybind) {
		this.name = name;
		this.desc = desc;
		this.category = category;
		this.keybind = keybind;
		this.toggled = false;
	}

	public void onEnable() {
		Menace.instance.eventManager.register(this);
	}
	
	public void onDisable() {
		Menace.instance.eventManager.unregister(this);
	}
	
	public int getKeybind() {
		return keybind;
	}

	public void setKeybind(int keybind) {
		this.keybind = keybind;
	}

	public boolean isToggled() {
		return toggled;
	}

	public void toggle() {
		this.setToggled(!this.toggled);
	}
	
	public void setToggled(boolean toggled) {
		if (this.toggled == toggled) return;
		
		if (this.toggled) {
			this.onDisable();
		} else {
			this.onEnable();
		}
		
		this.toggled = toggled;
	}

	public String getName() {
		return name;
	}

	public String getDesc() {
		return desc;
	}

	public Category getCategory() {
		return category;
	}
	
}
