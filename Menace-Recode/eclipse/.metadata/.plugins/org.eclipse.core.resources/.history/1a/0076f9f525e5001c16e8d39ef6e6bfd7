package dev.menace.module.modules.movement;

import dev.menace.Menace;
import dev.menace.event.EventTarget;
import dev.menace.event.events.EventSendPacket;
import dev.menace.module.BaseModule;
import dev.menace.module.Category;
import net.minecraft.network.play.client.C03PacketPlayer;

public class LongJumpModule extends BaseModule {

	int C03Count = 0;
	public boolean damage = false;
	private boolean C03Sent = false;
	
	public LongJumpModule() {
		super("LongJump", Category.MOVEMENT, 0);
	}
	
	@Override
	public void onEnable() {
		C03Count = 0;
		C03Sent = false;
		damage = false;
		super.onEnable();
	}
	
	@EventTarget
	public void onSendPacket(EventSendPacket event) {
		if ((event.getPacket() instanceof C03PacketPlayer ||
				event.getPacket() instanceof C03PacketPlayer.C04PacketPlayerPosition ||
				event.getPacket() instanceof C03PacketPlayer.C05PacketPlayerLook ||
				event.getPacket() instanceof C03PacketPlayer.C06PacketPlayerPosLook)
				&& Menace.instance.moduleManager.flightModule.dmgMode.getValue().equalsIgnoreCase("Verus")
				&& !damage && C03Sent == false) {
			event.setCancelled(true);
			C03Count++;
		}
	}

}
